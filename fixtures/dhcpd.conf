#######################################################
# begin global options
#######################################################

# disable dynamic dns in all scopes
ddns-update-style none;

# never trust the hostname the client believes it has
# (just in case somebody enables ddns-update-style)
ignore client-updates;

# global expiration times for all subnets and hosts
# unless overriden within a more-specific scope
default-lease-time              21600;
max-lease-time                  43200;

# currently, all servers are in Eastern time zone
option time-offset              -18000;

# avoid having to specify the host-name option inside a host declaration
use-host-decl-names on;

# intel pxe 3.0+ requires these options
option space PXEClient;
option PXEClient.vendor-specific-info code 43 = string;
option PXEClient.class-identifier code 60 = string;
option PXEClient.pxe-server-name code 66 = string;
option PXEClient.filename code 67 = string;

#######################################################
# begin subnet declarations
#######################################################

subnet 192.168.254.0 netmask 255.255.255.0 {
  # no range to avoid interfering with dhcpd outside of test harness.
  option routers                  192.168.254.1;
  option subnet-mask              255.255.255.0;
  option domain-name              "example.com";
  option domain-name-servers      192.168.0.1;
  option ntp-servers              192.168.0.1;
  next-server                     192.168.0.1;
}

# This is the docker subnet.
subnet 172.17.0.0 netmask 255.255.0.0 {
  # no range to avoid interfering with dhcpd outside of test harness.
  option routers                  192.168.254.1;
  option subnet-mask              255.255.255.0;
  option domain-name              "example.com";
  option domain-name-servers      192.168.0.1;
  option ntp-servers              192.168.0.1;
  next-server                     192.168.0.1;
  #not authoritative;
}

#######################################################
# begin host declarations
#######################################################

group linux {
  host host01.example.com { hardware ethernet 01:de:ad:be:ef:01; fixed-address 172.17.0.1; }
  host host02.example.com { hardware ethernet 01:de:ad:be:ef:01; fixed-address 192.168.254.2; }
}
